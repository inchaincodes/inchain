package org.inchain.transaction;

import java.io.ByteArrayOutputStream;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;

import org.inchain.account.AccountBody;
import org.inchain.core.AccountKeyValue;
import org.inchain.kits.AccountKit;
import org.inchain.kits.AppKit;
import org.inchain.utils.Hex;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class MakeCertAccountRegisterTransaction {
	
	public static void main(String[] args) throws Exception {
		
		String[] xmls = new String[] { "classpath:/applicationContext-testnet.xml", "classpath:/applicationContext.xml" };

		ClassPathXmlApplicationContext springContext = new ClassPathXmlApplicationContext(xmls);
		
		springContext.start();
		
		AppKit appKit = springContext.getBean(AppKit.class);
		appKit.startSyn();
		
		Thread.sleep(10000l);
		
		AccountKit accountKit = springContext.getBean(AccountKit.class);
		
		try {
			
			AccountKeyValue[] values = {
					new AccountKeyValue("name", "名称", "五粮液"),
					new AccountKeyValue("address", "地址", "四川宜宾"),
					new AccountKeyValue("descript", "描述", "百年老酒"),
					new AccountKeyValue("logo", "图片", Hex.decode("ffd8ffe000104a46494600010200006400640000ffec00114475636b79000100040000003c0000ffee000e41646f62650064c000000001ffdb0084000604040405040605050609060506090b080606080b0c0a0a0b0a0a0c100c0c0c0c0c0c100c0e0f100f0e0c1313141413131c1b1b1b1c1f1f1f1f1f1f1f1f1f1f010707070d0c0d181010181a1511151a1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1f1fffc00011080079007903011100021101031101ffc400ac000002020301010000000000000000000007080006010405020301000203010101000000000000000000000005040607030201100001030400030406070506070100000001020304001105062112073141516171812232131491a1b1425223336272921508c182a2532417d1e1b2342575163711000103020403060403080301000000000100020311042131120541510661718122321391a1c142722333f0b1d15262142415e1f13416ffda000c03010002110311003f006a68429421795f6518a1785b89420ad64252071528d87d268cb35f00272087bb575bb54c395310947292d26c50c9b362ddb7738d4396f58dc9586c7a6ee27f579076e7f042fce75d3759eae586b6b1d1c9e01a4ddc1e5cf7feca80fbf71c959edba66da3f582e3df82a94bdbf6c9bcca959492f5fbc9e03eaa8ee99eee29bb2c6067a58d0b47f9a648dc992e1578df8d79d4e5d840ce416dc6da3668802e2e4e4326f6ba4f61fa3c2bd7baf1915ca4b1849a3dad569c375b379c72807e422731d851211ed7f1d7765f48334aee3a6ed64c002d2895acf5eb5cc894b3966d58c906c02c9e768f89e6e16a9f15eb5c7155abde97b88aa63f30f9a25c7971a4b287e33a9798707336b41e6041ef06a5b4838855b7b0b5da5c2856c0ec15e97959a10a50852842942179529414001c3bcd085c5dab6ec36b78d54eca3c1b47634d0e2e38afc294d739266b054a97656325cbf430779e4973ddfaa3b0ed2f2da0b5c3c58366e1346ca527c5cb769f2a4b7170f79cf05a26dfb2436c01a6a7f3392dad43a37b4679289521231b017c4baf7ea287923b6bdc562f39e4b96e3d4305bf95a75bbb32f8a2e603a27a462d295bf18e41f1dab9079917f109e16a60cb28dbc2aaa573d4777264ed23b1717ae29c56234c671f0a335195324242436900d9ab2cd72be01aca0537a69d24d725ef25da47ef401b7d3e34a15f688d3fd3eb9026c3cb6225b2dbfcaa4c809712147954023be99d86922842a675531ec7b646922b878abbe77a3ba2e552a3f23f24f91fab14fc337f1238d4b92d18eec48edb7fba870d5abb0a146ddd0cd8b10172b13ff92889175213c1e03c93c79a974b60e6e4adbb7f52c321024f23be4ab5a9ef9b36a32c88aeabe5c2ad2203e4f2123b458f62ab8c53ba239a617db5c374df301a8fdc38263747ea06176d825c86bf872da03e6622bdf49f11e23ce9cc33b641dab3cdcb6c92d1fa4e2de079ab424dc5774b6ab34214a10b1cc2842e26ddb56375ac3bd939caf6502cd343de71c3eea535ca69431b52a5d8d93ee6411b7c4f24afec3b0ec3b967c3cf053efbeae4870d1eea137e0948fb4d2492474ae5a6da5a4567150614ccf3469e9bf4731f85699c966908979720290dabda6d9278d80ef34c6d6cc3712a9bbc7503e626388e960e3cd1412dd9360394770153d5668a116bf0eda005f12edd7dce099b4b38e6d454d639afcc40ee757c7fe9349afe4abe81687d2f6da2df59cde7e4870ec294d4b4c371b224a8a406fbeeb00a7e9bd432d35a2b1891a5bab82b7f47f34ac2efb1db7d45b6e5f345903cc7ba2dfbf522d1fa5e2b9149f7fb7f7ad491896e23f6ee4d158d3c599554e536b57d5f150ba81d27c46cccae5c64a21e6120f24848b25cf04b8076fa6a2cf68d78c0629eed5bdc96c74bbcd1f24bf03b3699b10e2a839486ab9fc2b483fe24aa93f9a2760afe443790f0731df10994e9e6f9036dc389281f0673564cc8a4f14abf10fd9553bb79c483b566fba6dafb49349f49c8ab5f38bdbbebba58b34217c9c5b684a96b572a52092a3dc282698a00ad12b7d51de1fda3625fc159fe590d45a84d8f754a1c3e21f326915c4e5ef3c96a1b2ede2d61151e77627b915fa3bd376b098f466724c83969680a42142e596cf1005fbcd4eb3b5d02a5553a8378333cc519a31b9f6a27802df5f1f1a9e4aac8145ee85f56a657211f1d8f933e49b3119b53ae7a122f5e5c682aba431191e183371a2563051656e5d42679bf30ce94643dcddbf090ab9bff00705238ff003245a85cc8db4b4753ed6d3c4ffcadbdb836d7565e4b600435908e129fd947201f4dabe3c7e6d3b572dbf1dbc54f9b43beab3d55c2bbaf6f2f3d1d1f0da7ca674252787658abfc60d1771963f05f362b917169e6c48f29fdbb931ba76718ce6b70326d2b983ed279ff007d22cafac53b8640f682167b7f6dec4ce8f915d9ae8a1ac7a2842a3753ba7d176bc52d6ca12de62302623ff8adc4a15e47bbcea35cdb87b70cd39d9b7536b250fe9bb3eced4bfea5b264f50d91b9652a6cb4e1667c53daa4836505798eea4f0bdd1bd5fefece3bc84b2b5c3ca535b8bc845c8c28f3a2ab99890da5c6cfeca85ed5600ea8aacaa588c6f2c766dc16ed7d5e10dbae3b57f27d54c16145333284b29b7021a1fa87e822a1de4ba594562e9ab1f7ae359c998f8f042be8d69e9ceed024ca6f9b1f8cfce5f78539f72a058c5a9f5e0ad1d45b8ff6f0696fa9f878714cd3600e00701c07953b59a85ee842f9f0ff009d19a0e010a3af9b48858463051dcb49c81e67c27b52ca7883eb3502fa501ba55aba5ac83e532b860dcbbd0c7a6fba623507e564df82b99907101a8e841094b69ef3cc47dea816b308f12acbbbedb2ddb4303b4b5b895c5cc6c6725b5af612ca5b538fa24fcbdefee1078abfbb5c5d302ead14e86cc470087fa695565ea1f50f15b9636215c0721e5219b257cc95214d9ed1702bbdc5c324012bdab6996d25a021cc72b57f4fbb5143b2b5b90be0a1f310ee7bfb1481eae3526c25a1d296755d89c26032c0a38a071f1f3a68a90bdd0beaf9f65e818a38a0175ef4f442c933b1456c7c09bf9532ddce8f755fc37a517d0e9350af9d317e646185d9b72ee5dcfe9eb6a2fc295aec87399d887e345bf1fcb51f687a89aebb7cb56e950baaac68f138c9d81f0465a64aa0966eb8e6d791dd9d88957e4635b4b2127f19b95dbd3c2925fbf53b4ad1fa6edf45a877173abe08b5d14d7d38bd1e2bca003f3c992b577f2afdd49f45a985947a631daaabd4573ee5d38706e0afc136efa96912cd085ab326330a23f2e42b958610a71c5782522e6be13418af51c65ee0d189294fd9b3192dc36f7e5476d6ebd29c2dc2647b4436382401e06abd2974afc16ab656edb3b70d26941e6ef454d3fa058f6996e4ecaf1912080af9368d9b4dfb947ef1f453086c001e7557bfea973896c028399e2af08e9674f50d720c1c729b77f37dbcd5285b47c925ff0077779fb8e554d9fa07af4d694ee095fcb648e2864dd4c1f2b7bdf5d7096c1a724cecbaa6661a4de769f8a0b96737a6ececaa436a8f3f1ee872c2f65a01e3ca7c143852c0d742fa95730e8af2021a6ad70f826bb5fcd45cd6262e5222b9989480b4f92aded27d46ac0c7070a8595dd5b3a190c6ecc2e9d7a5c16397b7ce842aef50702de6f51c940201714ca96d13da9523dab8fa2b8cecd4c214fdaee4c370c776a5bba699b560f74c6c955d285381892077a57c2dfc56a4b6eed122d1777b7f7ad9d4e551e09b2e71e22ac2b2ba149f6cb21591db67bf7bae4cbf66fe76aadc8753cf7ad76cdba2dda3835a9b7c3c4443c5458cd8b21a69090079245585828005945c485f239c7895b84d857a5c5602d27be8420a75db7c0db49d5f1ee1f88b3cf915a7eea0710dfafbe96dfcf86919ab974ced849f7de3bbf8ae6f4ba1c3d535293bdce8aa98b714966336ddb990d155b9d24f0ed3635ced9a2367b8462a46f723aea716ac769c313dbc912744ea5623717a531098722bd18256a43a41252a36b8b79d4eb7ba6cb97055cdd36796cc02e21c0ae5657addaee3b60730cec679c532f258724a549f860a8804faaf5ccdeb43a8a4c1d373490fb808c4568ac1baef98ad4f191e74c42e4225ab9186dab02af679afc7cabacb3b582a541db76b92e9e58da02d43cdc1f81d48d2a5e7b1d057125e197669c7b94a9d472dd69b8fba01a893013c6481884fec5afdbae444f76a6c9cb81ad1723a17beb78d9e75f9ee1106690a84547836edbdcf20afb6b958ce0794a9dd4fb5eb689583ccdf577260b9d37b77d3759fd57aa17d5e1d42569283d8a0527d07b6840c082941d8e31c7ee535947b298f3d45207700edc7d955c95b490ad6ed24f72d9a79b7e88c7fee2b9f8cd30fee4aa97fa741485ed6c91be271264a79bd24d2e1ebf157390d21c3f94a7199fd247ee8fb2ac6163eeccaf4aecafabc954dea4ef51753c229d410bca48051099bf1bfe33e49a8f73388c5537d9f6c75d4a1bf60cca56e64995324bd3252d4ec87d6a5bce937e651e36a42e25d572d4236b18035a28d4cf695878992e9463f16be5f832e129ab8ec05655c47a09a791303a203985996e1398afdcf1f6b902f4ccfb9a4ee325d9015cac25f8af207695004346df41a550c9ed3cf8abd6e3662f6dc019e0e1dcab525b99304cc8a92a534b754a75cfc2a7144f1f51ae0e05d52131638374c75c401f2561ddf73776485828a80a52f1f1be0b893d85ebf283fc16aed3cc5e004bb6ddbc5bbe43c5cea8fc3ff0068fdac6bcce13a6c31e6ca3f22e38f288ed538d951bfa2f6a6f1c7a63f0543bcbb335e6bfeb007814ac5948585b46c5b5129701b72d95ec9bf91a442bc16a150451dc4264fa47d446f64c58c7ce581988490972fdaeb60582d3fdb4ead2e44829c5671bf6d46da4d6d1f96ef9762238ec153157d43421295d47091bee5797b3e6093e92aaafdc7ad6adb49ff00159ddf45f5f88f79d155e28172736d2b1db44b6cfbd1a5807bbb08af0ff2bcf7a956ced76e0f36a6ee13c97a1477906e871b4287ac0ab134d40592cad2c710782e5ed9b5e3759c43b919cabdb830c036538b3d8917ae72cc182aa4edf62fb9786338e7d896d1ff00d1f52371e04a9e90ae37b96e3b00fd56fae92f9a77d168f4876eb6ec1f1255ebabda045c1e97875631a1f0f1ae144a740f6965c013cca3e66a55ddb6966091f4feeae9ae5e1ff7e4ac3d06d9e3cfd6bf92155a4e2cd9b6cff92ae2923fbd7aef613073687825dd5162639bdcfb5ffbc2a0f5d35d38ddc3e79a428b39347c65728e01c1eca93c3c9350efa121f51c5583a66ec4b06871c5b82b4ea9a1991d179a875bb4cc8a553426ded5d9e284f8f1e4aed141f9279a537bba537107ed6f97e286fd33d75ccd6e5022bada834cb9f19fb83605a1cd637f31512da225eac9bc5d886d9c41c7f8a3df56368635fd424849b4a9a931a2b43813ce2ca3e809a6d772863150f62b233dc0fe566250c3a15a7c6cbab2ef4f603900b02200a171f114798a924f7db8d40b1835024ab47545f98bdb0c3e7f52ad6cbafe7ba77b634b8cea90104af1d305c05b40fb8beebf75ab8c91ba1754265697716e301d5dce1c91ff00a7fbde3f6dc3a643443735a013322922e95788f14abb8d3682712059feebb6bed24a1f49c8ab4dc04924f6713e5522a9652a944dae489bbae45d1c52ece52507cbe2f28aaeca6af5ae58b745b347267d112fff008395fe5d4cf60aae7fb1551eb3e1958cdf25b9cb76a725325b23b2e7811eab547bd611226dd397026b6681ea6e089dab753f0b8ce9a419f90742e4c64fca88c950f8ae38df6581f4f6d328ee808ea555ef766965bd73183038d7b10932390da3a8fb525b420a9c715f92c2798b4c37e27c3d74b5c5d33b0c95b228a0dba0c703cf892984d0f45c6ea7884c766ce4d76c65ca20732d7e1e814de08430619acfb73dc9f76fa9f48c82ede6315132d8d918d969e68d25b2dac5bb942d717ef15d5edd428544b799d148d91b9b52b32ff99e87bac86f1b2d2a938f74b695a6fcab4280210b1e163c690b8989f8735a830c77f6cd2f183be47b11b357eace9bb2b2db5944b50e7a4716a50429055f78a16ab8fa699c376c7fab3549bdd8ae6dcd63ab9bfd39f8abc3794c106521b9b1430070e575b09b1eeb036a961eda6612536f35716babdc554f65ea4e85ad36b5b4a6244e37e5621a51cc4dbbd691617f4d4775c46dca954d6d765bbb9a5410ce67f8203ec1b265f78d91854e752c87dc4b1119b9f86c870803d7c78d2892474afa157ab5b38ac6021b8d0549e744cc6a5ac43d6f05171317da0d27f35de00ad67de51a7b14618d002cd6fef1d7333a4771e0b3b5ea78bd9710ee367a014ac5d976d7536bee524d7c9630f1428b1bd92da4d6cf11c0f7a5ba7c0daba6db525685143a83ccd48e21a90d0fb8aeee23ba92bdaf85d864b478a5837282847979710519a075730795d3323930a4c79f15825f82b500ae7526c397c471a662edae613c55325d8a58ae5acf535cecd02b47c5bd9ddc71b1142e5d7d2ebc4f1b04fb66ff00452a81bae4f157bdca6105b39dc00a04dbfcb31f8134fea5651addcd0b7afbad2a7e019cc47493231aafcd0076b2e76927c136a877d11736aac9d2d7bedcfa09a07fef40cd7f0eee6f370f14cbc861c94e72a1c70fb23c781efa531b359d3c15eaeae3d98dd252ba734d1e8fa2e2353c708b091cf25407cd4c57bee2fbcf90f2a7b0c2d8c502cbb71dca4ba7ea71f2f01c959824f7fd55dd2fec5c6db361630180999474f16107e124fde70f0427d66b9cd20634952ec6d8cf33631f71f925bba7fadbdbb6e0a4cce6547515c99ee5cdec492137f3eca4b030cafc725a36ef78db3b7f20cb068faabbec3fd3b492f2ddc1cf6cb24f3263c94f11fb292916a952eda33092da756f095b8f308553f0b94c7e69cc1bc4a66a1e4b2a4051e5e755b9476db8de979610ed2ad515c31f18940f291544bc17f4ef987968732d39a8cc1b294d32399df317374d4e8f6e27d45566ebaad80111b6a7b7255eeac686dea1978cac7a5431d29014cb86e4a5e47713e3c39ab85dc1ed105a986c5b99bb6383fd43876238f4cb694ec7a9c494a5032d948624a01bd9681617fde02f4dada5d6caaa4ef367fdbdc39b4f29c42b61ece3dbde0577cd2acf05c5da756c46c78c5e3b26c85b4ae2d2ededa156e0a49af12441e2854ab2be92d5fad87bfb52bbb9eaaf6af9f7b14f3e893c890a0e23bd045d215e7e37a41245a1f45a86df7a2e621235ba7b1133fa79d616a7666c4f8f600f978b71c157e2a50f45ad5376e8f32ab7d59783cb10ef28e5eaa6aa92b5a6c48f3223d1642438c3e92875b571052ae045792dab6857a63dcc21cdcc254777d5e76a3b3bb101296db587e049ec2524dd163e23be90cd1189e56adb6deb6ee00e19d28e08fdd2bdfe36d3884a1e504e5e22422637d9cd6e01691e069b5b5c07b40e2a81bd6d46d6534f43b22af5529264bef5ef714cec9b7af475ff00a6824b92d493ef3a47bb61f8471a517f357caaf9d2db7e86999d9bbd3dcaf5d15d3ff926ae89b253cb3b2803ab4a858a1bfba8feda97650e86e291751dff00bf3e86fa1888a3baa583555f4acee44ffbb12bcb22cfda8a452feaf8ad4ac3ff00037f03bea9a76bf491fba3eca7a325979cd54fa9fa9b7b2ead22281feae382fc557690b40bd87ef0e15c2ea2d6c238a69b35f9b6b80ee073413e8d6dcad7b6754199f970f207e03e926c1b781f6556f127d9a59653163b49c95cfa876f171007b3d431f04cb27d3c3ba9dd70aacdce2abdbd6e10756c23b3e4292641053118278adcb7003c877d719e611b6a986d9b7beea50d1e9e27b12c50a266771da12d717b21927799e73b90926e49f248e029100657f7ad31f24569154e0c60c3bd35daee161e131317171004b31901248fbcafbcaf59a7f1c618d0165775726790c8efb9752ba28ea5878508553ea2689076dc32a32ecd4e681543936f755f84fecabbeb85c421eded4d369dc9d692ea1e93984b5b12364d2f66e7e5544c9c15d9c41bf2ad3e7f890aa494746ea2d1dcc86f60c7161c91a3fdf2c53ba6c8c8b7f959c40f84212fbdd50b0713e28a662f818b57154cff00e6e46dd36377e91e3d8863d33d5656ddb807a5dd71585fcde45d55c8592aba5373f88f0a836d1991fa959b79bd6da5b696e04e0dec09a36db42109424009480123c00e029eacc6b55e88af884ac6e5ff00eb127ff62cfda9a452feaf8ad46c7ff037f03bea9a66bf491fba3eca7a325979cd4581707bc57d5f12ddd6ed2d584cf27310c72e3f24abfb22df09f1ed1ecf1f7af49af612d76a0b44e9cdcfde84c4ef533e615d353eb46219d2be632eb27290408e1806eb7c81eca937fac9a9105e00cc7349b70e9c90dd698bf4df8d792116cdb2e7772cea5f90953afb8a0dc284d824201364a529fb4d2f92474aeed56db2b38ace2a0c00c493f547ae9574ddad5b1c65cc01cccca00bc7fca49fb893f6d35b6b7f6c639aa2efbbc7f772797f4c65dbda880916b7d5531200bd50bea942160a6e6f42154b7ee9ce236d8567bf2322d0ff004f3123da1fb2af14d479edc48135daf7592d1d8799bcbea96cda74eceeb330c7ca30529b90d4a00a9a713e295771a492c2e61a1182d1ac7708ae99561c79710ae1d30eab41d5a19c6ce8178ab5f3ae6347f338fe30785879549b4bb118d24251bd6c6fba76b6bb2e1c11c707bd6a99a6c2b1d9265d55ae5b52b9163cacab5356ccc3c5522e76e9e134730aee8702805278a4f78e3f657518a8470cd2b7b903feec491dff00cc59b01e94d21981f756a160eff007e077d5348d9b349bf0b245efe8a7a325981cd72733b6eb7886be2e4722c4748048055cc7f853735e1d2b5b995260b29a534634941aea4f58f119dc6c8c36320fccc777de9af7b3ca41b853607a3be96dcde020b40572da3a7a48241248ea3b90c7e286383d7f319d9c8878a8cb94fabd92427d940ef2a51e02a0471b9f835592e2f19034b9eed2de5c5315d37e9563b56684d947e6b32e278bca170d0ef4a3fe34e6dad4333cd679bc6f925d1d2308f973ef440001a98912cf2f107bc50859a10a50852842c2efcbc3b68a550b4b238981938ab89908c890c2bb50e00a1eabf65797b43b02bac33be376a61d250976afe9e633a56feb92be02cdcfca482548f52f8aa974d61fcaad963d5446138d4398430ccf4ef73c1b8172b1af591eec9647324fa0a6eaa82fb67b320559a0ddade714d63b8ad78bb4eeb8fba59c84e640ec42cbbca2de4aaf2d9641c57b92ced5f9b1a7e0b9b27219093903907dc5b934ac39f18820f327b3ecaf2e712ead54a646c63748f4d174e56e3bb4d1cae64a6ad0381420b807d09ae86679e2a232c2d586a18daf82ce2f4bdc73af83171f21f52bde79d4f2d81f152f94d0d8247f35f66dc2da01896b7b2b5448d63fa797d6a0f6c730251704448dde3c16a36faaa6c5b7f172ae5e75650d216f89460c26b988c1c31131719119a02c4a47b4af352bb4d318e36b060a9f717524ced521a95d309f2e1e15ed47a2c8bf7d0beacd085284294214a10a5085284294217cdcf715e8a17d6e6831d45fd657a4d2bb8574d9b243073f5bd750d59064afda1ffde23d55260cd23dcb24758bfa28fdd14d0e61511dea2bec7b6bdaf2b34214a10a5085284294217fffd9")),
			};
			AccountBody body = new AccountBody(values);
			System.out.println(Hex.encode(body.serialize()));
//			Account account = accountKit.createNewCertAccount("ssssss0", "ssssss1", body, "inchain123");
//			System.out.println("base58 : " + account.getAddress().getBase58());
//			System.out.println("hash160: " + Hex.encode(account.getAddress().getHash160()));
//			
//			System.out.println("mgtx is : " + account.getAccountTransaction().getHash());
			
		} catch (Exception e) {
			e.printStackTrace();
		} finally {
			springContext.close();
			System.exit(0);
		}
	}
	
	public static void main1(String[] args) throws IOException {
		InputStream is = new FileInputStream("D:/1.jpg");  
        ByteArrayOutputStream baos = new ByteArrayOutputStream();  
        int b = 0;  
        while((b = is.read())!=-1){  
            baos.write(b);  
        }  
        System.out.println(Hex.encode(baos.toByteArray()));
        baos.close();
	}
}
